@*
 * Copyright 2020 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@this()

@(
    fieldName: String,
    form: Form[_],
    label: String,
    labelHour: String,
    labelMinute: String,
    hint: Option[String] = None
)(implicit messages: Messages)

@timeField = @{form(fieldName)}
@hourField = @{form(s"$fieldName.hour")}
@minuteField = @{form(s"$fieldName.minute")}

<div class="govuk-form-group @{if(timeField.hasErrors) "govuk-form-group--error"}">
    <fieldset class="govuk-fieldset" role="group" aria-describedby="@{fieldName}-hint">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
            @label
        </legend>
        @hint.map { hintText =>
            <span id="timeOfArrival-hint" class="govuk-hint">
                @hintText
            </span>
        }
        <div class="govuk-date-input" id="@{fieldName}">
            <div class="govuk-date-input__item">
                <div class="govuk-form-group">
                    <label class="govuk-label govuk-date-input__label" for="@{fieldName}_hour">
                        @labelHour
                    </label>
                    <input class="govuk-input govuk-date-input__input govuk-input--width-2 @{if(timeField.hasErrors || hourField.hasErrors) "govuk-input--error"}"
                        id="@{fieldName}_hour" name="@{fieldName}.hour"
                        type="text" pattern="[0-9]*" inputmode="numeric"
                        value="@hourField.value">
                </div>
            </div>
            <div class="govuk-date-input__item">
                <div class="govuk-form-group">
                    <label class="govuk-label govuk-date-input__label" for="@{fieldName}_minute">
                        @labelMinute
                    </label>
                    <input class="govuk-input govuk-date-input__input govuk-input--width-2 @{if(timeField.hasErrors || minuteField.hasErrors) "govuk-input--error"}"
                        id="@{fieldName}_minute" name="@{fieldName}.minute"
                        type="text" pattern="[0-9]*" inputmode="numeric"
                        value="@minuteField.value">
                </div>
            </div>
        </div>
    </fieldset>
</div>